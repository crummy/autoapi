// This file was generated by the AutoAPI tool. Do not modify.
import io.ktor.client.HttpClient
import io.ktor.client.features.json.JsonFeature
import io.ktor.client.request.`get`
import io.ktor.client.request.post
import kotlin.Array
import kotlin.Int
import kotlin.String
import kotlin.js.JsExport
import kotlin.js.Promise
import kotlinx.coroutines.GlobalScope
import kotlinx.coroutines.promise

@JsExport
public class AutoAPI(
  private val basePath: String = ""
) {
  private val client: HttpClient = HttpClient { install (JsonFeature) }

  public fun getRestaurants(): Promise<Array<Restaurant>> {
    val location = "$basePath/restaurants"
    return GlobalScope.promise { client.`get`(location) }
  }

  public fun getRestaurant(id: Int): Promise<Restaurant> {
    val location = "$basePath/restaurants/$id"
    return GlobalScope.promise { client.`get`(location) }
  }

  public fun createRestaurant(body: NewRestaurant): Promise<Restaurant> {
    val location = "$basePath/restaurants"
    return GlobalScope.promise { client.post(location) { this.body = body } }
  }
}
